import{H as c,g as e}from"./index-KrAhBxh-.js";import{S as s}from"./sweetalert2.all-zMDkBLp8.js";var d={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_NAME:"jslong",BASE_URL:"/week8work/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:o,VITE_NAME:r}=d,h=c("cartStore",{state:()=>({carts:[],final_total:0,total:0,qty:0}),actions:{getCart(){e.get(`${o}/v2/api/${r}/cart`).then(t=>{this.carts=t.data.data.carts,this.final_total=t.data.data.final_total,this.total=t.data.data.total})},async addProuctToCart(t,a){const i={product_id:t,qty:a};try{await e.post(`${o}/v2/api/${r}/cart`,{data:i}),this.qty+=a,this.getCart(),s.fire({title:"已加入購物車",position:"top-end",showCancelButton:!1,timer:1500})}catch{}},addToCart(t,a){const i={product_id:t,qty:a};e.post(`${o}/v2/api/${r}/cart`,{data:i}).then(n=>{this.qty+=a,this.getCart(),s.fire({title:"已加入購物車",position:"top-end",showCancelButton:!1,timer:1500})})},removeAllCartItem(t){e.delete(`${o}/api/${r}/carts`).then(a=>{s.fire({title:"已清空購物車",position:"top-end",showCancelButton:!1,timer:1500}),this.getCart()})}}});export{h as c};
