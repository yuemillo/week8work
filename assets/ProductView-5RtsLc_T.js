import{_ as x,g as l,r as h,o as d,c as a,d as g,b as t,t as i,A as y,B as b,F as n,h as m,C as w,w as k,p as L,i as E}from"./index-KrAhBxh-.js";import{c as P}from"./cartStore-zCjZDley.js";import"./sweetalert2.all-zMDkBLp8.js";var V={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_NAME:"jslong",BASE_URL:"/week8work/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:p,VITE_NAME:u}=V,S={data(){return{isLoading:!0,product:{},products:[],selectedQty:1,category:"",categories:["近戰","遠程","輔助"]}},computed:{filteredProducts(){return this.products.filter(e=>e.category===this.category&&e.id!==this.product.id).slice(0,5)}},methods:{getProducts(){const{id:s}=this.$route.params,e=`${p}/v2/api/${u}/product/${s}`;l.get(e).then(r=>{this.product=r.data.product,this.category=r.data.product.category,this.isLoading=!1}).catch(r=>{console.error("Error fetching products:",r),this.isLoading=!1})},getProductsAll(){const s=`${p}/v2/api/${u}/products/all`;l.get(s).then(e=>{this.products=e.data.products,this.isLoading=!1}).catch(e=>{console.error("Error fetching products:",e),this.isLoading=!1})},async addProuctToCart(s,e){await P().addProuctToCart(s,e)},getCart(){l.get(`${p}/api/${u}/cart`).then(s=>{this.carts=s.data.data})}},mounted(){this.getProducts(),this.getProductsAll()}},C=s=>(L("data-v-f413d9ee"),s=s(),E(),s),I={class:"bg-primary py-5 mt90"},R={class:"container"},T={class:"d-flex py-3 px-3 bg-warning rounded-3 row"},A=["src","alt"],U={class:"hero-text ms-3 d-flex flex-column justify-content-between col-12 col-xl-6"},B={class:"hero-text-head"},D={class:"display-2 fw-black text-black mb-1"},M={class:"badge bg-primary rounded-pill fs-5 mb-1"},N={class:"fs-3 text-black pb-3"},Q={class:"fs-5 text-black pb-3"},j={class:"hero-text-footer align-items-end"},F=["value"],O={class:"d-flex"},q={class:"price-text"},z={class:"h6"},G={class:"h5"},H=C(()=>t("div",{class:"h3 my-3"},"推薦喵喵",-1)),J={class:"d-flex flex-wrap"},K={class:"d-flex flex-column align-items-center my-3"},W=["src","alt"],X={class:"text-black card-title mt-2"};function Y(s,e,r,Z,o,_){const f=h("VueLoading"),v=h("RouterLink");return d(),a(n,null,[g(f,{active:o.isLoading},null,8,["active"]),t("div",I,[t("div",R,[t("div",T,[t("img",{src:o.product.imageUrl,class:"card-img-top col-12 col-xl-6",alt:o.product.title,style:{width:"550px"}},null,8,A),t("div",U,[t("div",B,[t("h3",D,i(o.product.title),1),t("span",M,i(o.product.category),1),t("p",N,i(o.product.description),1),t("p",Q,i(o.product.content),1)]),t("div",j,[y(t("select",{name:"",id:"",class:"form-select mb-3",style:{width:"300px"},"onUpdate:modelValue":e[0]||(e[0]=c=>o.selectedQty=c)},[(d(),a(n,null,m(20,c=>t("option",{value:c,key:c},i(c),9,F)),64))],512),[[b,o.selectedQty]]),t("div",O,[t("div",q,[t("del",z,"原價 "+i(o.product.origin_price)+" 元",1),t("div",G,"現在只要 "+i(o.product.price)+" 元",1)]),t("button",{type:"button",class:"btn btn-primary ms-auto",onClick:e[1]||(e[1]=w(c=>_.addProuctToCart(o.product.id,o.selectedQty),["prevent"]))},"加入購物車")])])])]),H,t("div",J,[(d(!0),a(n,null,m(_.filteredProducts,c=>(d(),a("div",{class:"col",key:c.id},[g(v,{to:`/product/${c.id}`,class:"text-decoration-none card-hover"},{default:k(()=>[t("div",K,[t("img",{src:c.imageUrl,class:"card-img-top",alt:c.title,style:{width:"150px"}},null,8,W),t("h5",X,i(c.title),1)])]),_:2},1032,["to"])]))),128))])])])],64)}const st=x(S,[["render",Y],["__scopeId","data-v-f413d9ee"]]);export{st as default};
