import{_ as x,g as n,r as $,o,c as a,b as t,d as i,w as l,F as f,h as m,f as b,t as _}from"./index-bHwTZEbc.js";var v={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_NAME:"jslong",BASE_URL:"/week8work/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:u,VITE_NAME:p}=v,y={data(){return{products:[],categories:["近戰","遠程","輔助"],carts:{},status:{addCartLoading:""}}},watch:{"$route.query":{handler(){this.getProducts()},deep:!0}},methods:{getProducts(){const{category:e=""}=this.$route.query,r=`${u}/v2/api/${p}/products?category=${e}`;n.get(r).then(c=>{this.products=c.data.products})},addToCart(e,r=1){const c={productID:e,qty:r};this.status.addCartLoading=e,n.post(`${u}/api/${p}/cart`,{data:c}).then(h=>{console.log(h),alert("已加入購物車"),this.getCart(),this.$refs.userModal.close()})},getCart(){n.get(`${u}/api/${p}/cart`).then(e=>{this.carts=e.data.data,console.log(this.carts)})}},mounted(){this.getProducts(),setTimeout(()=>{this.isLoading=!1},1e3)}},k={class:"bg-primary"},w={class:"container"},E=t("h3",{class:"display-2 fw-black text-black text-center pt-5 mb-3"},"喵喵商城",-1),L=t("p",{class:"fs-3 text-black text-center pb-3"},"選擇您的喵喵英雄，你可以專攻一位，或是挑戰駕馭所有英雄。",-1),V={class:"d-flex list-unstyled"},C={class:"row row-cols-1 row-cols-md-4 g-4 pb-5"},R={class:"card bg-warning"},T=["src"],N={class:"card-body"},P={class:"card-title"},B={class:"card-text"};function M(e,r,c,h,g,S){const d=$("RouterLink");return o(),a("div",k,[t("div",w,[E,L,t("ul",V,[t("li",null,[i(d,{class:"fs-4 btn btn-info px-4 mb-1 me-3 rounded-pill",to:"/products"},{default:l(()=>[b("全部")]),_:1})]),(o(!0),a(f,null,m(g.categories,s=>(o(),a("li",{key:s},[i(d,{class:"fs-4 btn btn-info px-4 mb-1 me-3 rounded-pill",to:`/products?category=${s}`},{default:l(()=>[b(_(s),1)]),_:2},1032,["to"])]))),128))]),t("div",C,[(o(!0),a(f,null,m(g.products,s=>(o(),a("div",{class:"col",key:s.id},[i(d,{to:`/product/${s.id}`,class:"text-decoration-none card-hover"},{default:l(()=>[t("div",R,[t("img",{src:s.imageUrl,class:"card-img-top",alt:"..."},null,8,T),t("div",N,[t("h5",P,_(s.title),1),t("p",B,_(s.description),1)])])]),_:2},1032,["to"])]))),128))])])])}const A=x(y,[["render",M]]);export{A as default};
